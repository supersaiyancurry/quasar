{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\jyesupriya\\\\Desktop\\\\quasar-frontend-3\\\\quasar-frontend\\\\src\\\\components\\\\product map\\\\ProductMap.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport LogRocket from 'logrocket';\nimport ErrorPage from '../error page/ErrorPage';\nimport ProductCard from '../product card/ProductCard';\nimport { QUASAR_API, ERROR } from '../Constants';\nimport styles from './ProductMap.module.css';\n\nconst ProductMap = () => {\n  _s();\n\n  const [products, setProducts] = useState([]);\n  const [errorCode, setErrorCode] = useState();\n  const [isLoading, setIsLoading] = useState(false);\n  const {\n    demographic,\n    category,\n    type\n  } = useParams();\n  useEffect(() => {\n    let url;\n\n    if (type) {\n      url = `${QUASAR_API}/products/demographic/${demographic}/category/${category}/type/${type}`;\n    } else if (category) {\n      url = `${QUASAR_API}/products/demographic/${demographic}/category/${category}`;\n    } else if (demographic) {\n      url = `${QUASAR_API}/products/demographic/${demographic}`;\n    } else {\n      url = `${QUASAR_API}/products`;\n    }\n\n    const fetchData = async () => {\n      let serverError;\n      setIsLoading(true);\n      await fetch(url, {\n        method: 'GET',\n        headers: new Headers({\n          'Content-Type': 'application/json'\n        })\n      }).then(response => {\n        if (response.ok) {\n          return response.json();\n        }\n\n        serverError = response.status;\n        throw new Error( /*#__PURE__*/_jsxDEV(\"p\", {\n          children: ERROR\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 27\n        }, this));\n      }).then(productData => {\n        setProducts(productData);\n        setIsLoading(false);\n      }).catch(() => {\n        // if server doesn't respond with an error message, display a 503\n        setErrorCode(serverError || 503);\n        LogRocket.error(serverError || '503: the service is unavailable'); // scrolls back to the top so user can see the error\n\n        document.body.scrollTop = 0; // For Safari\n\n        document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera\n\n        setIsLoading(false);\n      });\n    };\n\n    fetchData();\n  }, [category, demographic, type]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n      \"aria-label\": \"breadcrumb\",\n      children: /*#__PURE__*/_jsxDEV(\"ol\", {\n        className: `breadcrumb ${styles.breadcrumb}`,\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          className: `breadcrumb-item ${styles.home}`,\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            className: styles.link,\n            href: \"/\",\n            children: \"Home\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 60\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), demographic && /*#__PURE__*/_jsxDEV(\"li\", {\n          className: `breadcrumb-item ${styles.item}`,\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            className: styles.link,\n            href: `/products/${demographic}`,\n            children: demographic\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 76\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 27\n        }, this), category && /*#__PURE__*/_jsxDEV(\"li\", {\n          className: `breadcrumb-item ${styles.item}`,\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            className: styles.link,\n            href: `/products/${demographic}/${category}`,\n            children: category\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 73\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 24\n        }, this), type && /*#__PURE__*/_jsxDEV(\"li\", {\n          className: `breadcrumb-item ${styles.item}`,\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            className: styles.link,\n            href: `/products/${demographic}/${category}/${type}`,\n            children: type\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 69\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 20\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: styles.title,\n      children: \"Product Results\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), errorCode && /*#__PURE__*/_jsxDEV(ErrorPage, {\n      errorCode: errorCode\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 21\n    }, this), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.loading,\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-warning\",\n        children: \"One moment...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }, this), LogRocket.log('Server is loading')]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }, this), !isLoading && !errorCode && products.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: styles.empty,\n        children: \"Sorry, nothing to see here...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this), LogRocket.error('No products were retrieved with this fetch call')]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row row-cols-1 row-cols-lg-2 row-cols-xl-3 m-4\",\n      children: products && products.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(ProductCard, {\n          product: product\n        }, product.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this)\n      }, product.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ProductMap, \"wUGmBqyRxp1czpV2GvjYZ8lawhc=\", false, function () {\n  return [useParams];\n});\n\n_c = ProductMap;\nexport default ProductMap;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductMap\");","map":{"version":3,"sources":["C:/Users/jyesupriya/Desktop/quasar-frontend-3/quasar-frontend/src/components/product map/ProductMap.js"],"names":["React","useEffect","useState","useParams","LogRocket","ErrorPage","ProductCard","QUASAR_API","ERROR","styles","ProductMap","products","setProducts","errorCode","setErrorCode","isLoading","setIsLoading","demographic","category","type","url","fetchData","serverError","fetch","method","headers","Headers","then","response","ok","json","status","Error","productData","catch","error","document","body","scrollTop","documentElement","breadcrumb","home","link","item","title","loading","log","length","empty","map","product","id"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport LogRocket from 'logrocket';\r\nimport ErrorPage from '../error page/ErrorPage';\r\nimport ProductCard from '../product card/ProductCard';\r\nimport { QUASAR_API, ERROR } from '../Constants';\r\nimport styles from './ProductMap.module.css';\r\n\r\nconst ProductMap = () => {\r\n  const [products, setProducts] = useState([]);\r\n  const [errorCode, setErrorCode] = useState();\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const { demographic, category, type } = useParams();\r\n\r\n  useEffect(() => {\r\n    let url;\r\n    if (type) {\r\n      url = `${QUASAR_API}/products/demographic/${demographic}/category/${category}/type/${type}`;\r\n    } else if (category) {\r\n      url = `${QUASAR_API}/products/demographic/${demographic}/category/${category}`;\r\n    } else if (demographic) {\r\n      url = `${QUASAR_API}/products/demographic/${demographic}`;\r\n    } else {\r\n      url = `${QUASAR_API}/products`;\r\n    }\r\n\r\n    const fetchData = async () => {\r\n      let serverError;\r\n      setIsLoading(true);\r\n      await fetch(url, {\r\n        method: 'GET',\r\n        headers: new Headers({\r\n          'Content-Type': 'application/json'\r\n        })\r\n      })\r\n        .then((response) => {\r\n          if (response.ok) {\r\n            return response.json();\r\n          }\r\n          serverError = response.status;\r\n          throw new Error(<p>{ERROR}</p>);\r\n        })\r\n        .then((productData) => {\r\n          setProducts(productData);\r\n          setIsLoading(false);\r\n        })\r\n        .catch(() => {\r\n          // if server doesn't respond with an error message, display a 503\r\n          setErrorCode(serverError || 503);\r\n          LogRocket.error(serverError || '503: the service is unavailable');\r\n          // scrolls back to the top so user can see the error\r\n          document.body.scrollTop = 0; // For Safari\r\n          document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera\r\n          setIsLoading(false);\r\n        });\r\n    };\r\n    fetchData();\r\n  }, [category, demographic, type]);\r\n\r\n  return (\r\n    <div>\r\n      <nav aria-label=\"breadcrumb\">\r\n        <ol className={`breadcrumb ${styles.breadcrumb}`}>\r\n          <li className={`breadcrumb-item ${styles.home}`}><a className={styles.link} href=\"/\">Home</a></li>\r\n          {demographic && <li className={`breadcrumb-item ${styles.item}`}><a className={styles.link} href={`/products/${demographic}`}>{demographic}</a></li>}\r\n          {category && <li className={`breadcrumb-item ${styles.item}`}><a className={styles.link} href={`/products/${demographic}/${category}`}>{category}</a></li>}\r\n          {type && <li className={`breadcrumb-item ${styles.item}`}><a className={styles.link} href={`/products/${demographic}/${category}/${type}`}>{type}</a></li>}\r\n        </ol>\r\n      </nav>\r\n      <h3 className={styles.title}>Product Results</h3>\r\n      {errorCode && <ErrorPage errorCode={errorCode} />}\r\n      {isLoading && (\r\n        <div className={styles.loading}>\r\n          <p className=\"text-warning\">One moment...</p>\r\n          {LogRocket.log('Server is loading')}\r\n        </div>\r\n      )}\r\n      {!isLoading && !errorCode && products.length === 0 && (\r\n        <div className=\"d-flex justify-content-center\">\r\n          <h1 className={styles.empty}>Sorry, nothing to see here...</h1>\r\n          {LogRocket.error('No products were retrieved with this fetch call')}\r\n        </div>\r\n      )}\r\n      <div className=\"row row-cols-1 row-cols-lg-2 row-cols-xl-3 m-4\">\r\n        {products && products.map((product) => (\r\n          <div key={product.id}>\r\n            <ProductCard product={product} key={product.id} />\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductMap;\r\n"]},"metadata":{},"sourceType":"module"}